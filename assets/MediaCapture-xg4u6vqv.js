import{d as c,m as g,o as d,c as m,a as t,F as v}from"./index-DNm80A1y.js";const r="user_media_devices",y=c({__name:"MediaCapture",setup(f){const i=g(null);async function a(){const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});i.value&&(i.value.srcObject=e)}async function s(){i.value&&(document.pictureInPictureElement?await document.exitPictureInPicture():await i.value.requestPictureInPicture())}async function u(){try{const e=sessionStorage.getItem(r)?JSON.parse(sessionStorage.getItem(r)||""):await navigator.mediaDevices.enumerateDevices();return sessionStorage.getItem(r)||sessionStorage.setItem(r,JSON.stringify(e)),alert(JSON.stringify(e,null,2)),{devices:e}}catch(e){return alert(JSON.stringify(e,null,2)),{error:e}}}function o(){const e=navigator.mediaDevices.getSupportedConstraints();alert(JSON.stringify(e,null,2))}async function l(){const e=await navigator.mediaDevices.getDisplayMedia();i.value&&(i.value.srcObject=e)}return(e,n)=>(d(),m(v,null,[t("div",null,[t("button",{onClick:u},"Получить список доступных устройств"),n[0]||(n[0]=t("br",null,null,-1)),t("button",{onClick:o},"Получить список требований к потоку"),n[1]||(n[1]=t("br",null,null,-1)),t("button",{onClick:a},"Click"),n[2]||(n[2]=t("br",null,null,-1)),t("button",{onClick:s},"Toggle Picture-in-Picture"),n[3]||(n[3]=t("br",null,null,-1)),t("button",{onClick:l},"Захват экрана")]),t("video",{ref_key:"video",ref:i,width:"320",height:"240",style:{background:"green"}},null,512)],64))}});export{y as default};
