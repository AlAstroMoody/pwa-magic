import{d as c,m as d,o as g,c as m,a as t,F as v}from"./index-CQqxsq2a.js";const r="user_media_devices",b=c({__name:"MediaCapture",setup(f){const i=d(null);async function a(){const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});i.value&&(i.value.srcObject=e)}async function s(){i.value&&(document.pictureInPictureElement?await document.exitPictureInPicture():await i.value.requestPictureInPicture())}async function o(){try{const e=sessionStorage.getItem(r)?JSON.parse(sessionStorage.getItem(r)||""):await navigator.mediaDevices.enumerateDevices();return sessionStorage.getItem(r)||sessionStorage.setItem(r,JSON.stringify(e)),{devices:e}}catch(e){return{error:e}}}function u(){const e=navigator.mediaDevices.getSupportedConstraints();alert(e)}async function l(){const e=await navigator.mediaDevices.getDisplayMedia();i.value&&(i.value.srcObject=e)}return(e,n)=>(g(),m(v,null,[t("div",null,[t("button",{onClick:o},"Получить список доступных устройств"),n[0]||(n[0]=t("br",null,null,-1)),t("button",{onClick:u},"Получить список доступных устройств"),n[1]||(n[1]=t("br",null,null,-1)),t("button",{onClick:a},"Click"),n[2]||(n[2]=t("br",null,null,-1)),t("button",{onClick:s},"Toggle Picture-in-Picture"),n[3]||(n[3]=t("br",null,null,-1)),t("button",{onClick:l},"Захват экрана")]),t("video",{ref_key:"video",ref:i,width:"320",height:"240",style:{background:"green"}},null,512)],64))}});export{b as default};
