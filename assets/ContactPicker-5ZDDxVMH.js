import{_ as f}from"./IButton.vuevuetypescriptsetuptruelang-DCbEXGaB.js";import{d as b,g as u,c as e,o as n,n as d,h as C,w as g,b as i,i as k,a as l,F as m,q as P,t as c}from"./index-Bs-7ZeCf.js";import{s as w}from"./error-oUr4zJjZ.js";const T={key:0},A={key:1},I={key:2,class:"api-content__wrapper"},x={key:0},h={key:1},B=b({__name:"ContactPicker",setup(j){const a=u("contacts"in navigator&&"ContactsManager"in window),r=u(window.location.protocol==="https:"||window.location.hostname==="localhost"),v=u(null),p=u(null);async function y(){if(!a.value){alert("Contacts API не поддерживается этим браузером.");return}if(!r.value){alert("Для работы Contacts API требуется HTTPS или localhost.");return}try{const t=await navigator.contacts.getProperties();p.value=t,alert(`Поддерживаемые свойства: ${t.join(", ")}`)}catch(o){alert(`Ошибка: ${w(o)}`)}}async function _(){if(!a.value){alert("Contacts API не поддерживается этим браузером.");return}if(!r.value){alert("Для работы Contacts API требуется HTTPS или localhost.");return}try{const o=await navigator.contacts.select(["name","tel","email"],{multiple:!0});if(o.length===0){alert("Контакты не выбраны.");return}v.value=o}catch(o){alert(`Ошибка: ${w(o)}`)}}return(o,t)=>(n(),e(m,null,[r.value?a.value?d("",!0):(n(),e("div",A,"Contacts API не поддерживается этим браузером")):(n(),e("div",T,"Для работы Contacts API требуется HTTPS или localhost")),a.value&&r.value?(n(),e("div",I,[C(k(f),{onClick:y,disabled:!a.value||!r.value},{default:g(()=>t[0]||(t[0]=[i(" Проверить поддерживаемые свойства ")])),_:1,__:[0]},8,["disabled"]),C(k(f),{onClick:_,disabled:!a.value||!r.value},{default:g(()=>t[1]||(t[1]=[i(" Выбрать контакты ")])),_:1,__:[1]},8,["disabled"]),p.value?(n(),e("div",x,[t[2]||(t[2]=l("h3",null,"Поддерживаемые свойства:",-1)),l("ul",null,[(n(!0),e(m,null,P(p.value,s=>(n(),e("li",{key:s},c(s),1))),128))])])):d("",!0),v.value?(n(),e("div",h,[t[8]||(t[8]=l("h3",null,"Выбранные контакты:",-1)),l("ul",null,[(n(!0),e(m,null,P(v.value,(s,S)=>(n(),e("li",{key:S},[t[3]||(t[3]=l("strong",null,"Имя:",-1)),i(" "+c(s.name.join(", ")||"Не указано"),1),t[4]||(t[4]=l("br",null,null,-1)),t[5]||(t[5]=l("strong",null,"Телефон:",-1)),i(" "+c(s.tel.join(", ")||"Не указано"),1),t[6]||(t[6]=l("br",null,null,-1)),t[7]||(t[7]=l("strong",null,"Email:",-1)),i(" "+c(s.email.join(", ")||"Не указано"),1)]))),128))])])):d("",!0)])):d("",!0)],64))}});export{B as default};
