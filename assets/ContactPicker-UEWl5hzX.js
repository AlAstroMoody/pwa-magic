import{_ as f}from"./IButton.vuevuetypescriptsetuptruelang-CQS_eL3n.js";import{d as T,f as i,o as e,c as n,n as d,g as C,w as g,b as u,u as k,a as l,F as m,p as P,t as c}from"./index-rTQzTLpi.js";import{s as w}from"./error-oUr4zJjZ.js";const _={key:0},A={key:1},I={key:2,class:"api-content__wrapper"},x={key:0},j={key:1},B=T({__name:"ContactPicker",setup(N){const a=i("contacts"in navigator&&"ContactsManager"in window),r=i(window.location.protocol==="https:"||window.location.hostname==="localhost"),p=i(null),v=i(null);async function y(){if(!a.value){alert("Contacts API не поддерживается этим браузером.");return}if(!r.value){alert("Для работы Contacts API требуется HTTPS или localhost.");return}try{const t=await navigator.contacts.getProperties();v.value=t,alert(`Поддерживаемые свойства: ${t.join(", ")}`)}catch(o){alert(`Ошибка: ${w(o)}`)}}async function S(){if(!a.value){alert("Contacts API не поддерживается этим браузером.");return}if(!r.value){alert("Для работы Contacts API требуется HTTPS или localhost.");return}try{const o=await navigator.contacts.select(["name","tel","email"],{multiple:!0});if(o.length===0){alert("Контакты не выбраны.");return}p.value=o}catch(o){alert(`Ошибка: ${w(o)}`)}}return(o,t)=>(e(),n(m,null,[r.value?a.value?d("",!0):(e(),n("div",A,"Contacts API не поддерживается этим браузером")):(e(),n("div",_,"Для работы Contacts API требуется HTTPS или localhost")),a.value&&r.value?(e(),n("div",I,[C(k(f),{onClick:y,disabled:!a.value||!r.value},{default:g(()=>t[0]||(t[0]=[u(" Проверить поддерживаемые свойства ")])),_:1},8,["disabled"]),C(k(f),{onClick:S,disabled:!a.value||!r.value},{default:g(()=>t[1]||(t[1]=[u(" Выбрать контакты ")])),_:1},8,["disabled"]),v.value?(e(),n("div",x,[t[2]||(t[2]=l("h3",null,"Поддерживаемые свойства:",-1)),l("ul",null,[(e(!0),n(m,null,P(v.value,s=>(e(),n("li",{key:s},c(s),1))),128))])])):d("",!0),p.value?(e(),n("div",j,[t[8]||(t[8]=l("h3",null,"Выбранные контакты:",-1)),l("ul",null,[(e(!0),n(m,null,P(p.value,(s,b)=>(e(),n("li",{key:b},[t[3]||(t[3]=l("strong",null,"Имя:",-1)),u(" "+c(s.name.join(", ")||"Не указано"),1),t[4]||(t[4]=l("br",null,null,-1)),t[5]||(t[5]=l("strong",null,"Телефон:",-1)),u(" "+c(s.tel.join(", ")||"Не указано"),1),t[6]||(t[6]=l("br",null,null,-1)),t[7]||(t[7]=l("strong",null,"Email:",-1)),u(" "+c(s.email.join(", ")||"Не указано"),1)]))),128))])])):d("",!0)])):d("",!0)],64))}});export{B as default};
