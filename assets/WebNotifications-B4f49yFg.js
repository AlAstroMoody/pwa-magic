import{_ as a}from"./IButton.vuevuetypescriptsetuptruelang-C_o5vUrw.js";import{d as p,f as o,o as n,c as s,n as _,a as N,g as r,w as c,b as d,u as f,F as v}from"./index-DSOsucg_.js";const w={key:0},b={class:"api-content__wrapper"},C=p({__name:"WebNotifications",setup(g){const i=o("Notification"in window),e=o(Notification.permission);async function l(){if(!i.value){alert("Notifications API не поддерживается.");return}try{e.value=await Notification.requestPermission()}catch{alert("Ошибка при запросе разрешения на уведомления.")}}function u(){if(!i.value||e.value!=="granted"){alert("Уведомления не разрешены или не поддерживаются.");return}new Notification("Ня!",{body:"Это тестовое уведомление.",icon:"/pwa-magic/favicons/favicon-32x32.png"})}return(m,t)=>(n(),s(v,null,[i.value?_("",!0):(n(),s("div",w,"Notifications API не поддерживается")),N("div",b,[r(f(a),{onClick:l,disabled:e.value==="granted"},{default:c(()=>t[0]||(t[0]=[d(" Запросить разрешение ")])),_:1},8,["disabled"]),r(f(a),{onClick:u,disabled:e.value!=="granted"},{default:c(()=>t[1]||(t[1]=[d(" Показать уведомление ")])),_:1},8,["disabled"])])],64))}});export{C as default};
