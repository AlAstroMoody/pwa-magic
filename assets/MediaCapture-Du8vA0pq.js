import{i as r}from"./IButton-D5FQXHef.js";import{d as l,q as c,o as f,c as m,f as s,w as a,b as o,u as i,a as g}from"./index-Cl5dxKTN.js";const u="user_media_devices";async function p(){try{const e=sessionStorage.getItem(u)?JSON.parse(sessionStorage.getItem(u)||""):await navigator.mediaDevices.enumerateDevices();return sessionStorage.getItem(u)||sessionStorage.setItem(u,JSON.stringify(e)),alert(JSON.stringify(e,null,2)),{devices:e}}catch(e){return alert(JSON.stringify(e,null,2)),{error:e}}}function v(){const e=navigator.mediaDevices.getSupportedConstraints();alert(JSON.stringify(e,null,2))}async function y(e){if(!e)return;const n=await navigator.mediaDevices.getDisplayMedia();e.srcObject=n}async function C(e){e&&(document.pictureInPictureElement?await document.exitPictureInPicture():await e.requestPictureInPicture())}async function S(e){const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e&&(e.srcObject=n)}const k={class:"media-capture"},I=l({__name:"MediaCapture",setup(e){const n=c("video");return(P,t)=>(f(),m("div",k,[s(i(r),{onClick:i(p)},{default:a(()=>t[3]||(t[3]=[o("Получить список доступных устройств")])),_:1},8,["onClick"]),s(i(r),{onClick:i(v)},{default:a(()=>t[4]||(t[4]=[o("Получить список требований к потоку")])),_:1},8,["onClick"]),s(i(r),{onClick:t[0]||(t[0]=d=>i(S)(i(n)))},{default:a(()=>t[5]||(t[5]=[o("Захват камеры")])),_:1}),s(i(r),{onClick:t[1]||(t[1]=d=>i(C)(i(n)))},{default:a(()=>t[6]||(t[6]=[o("Toggle Picture-in-Picture")])),_:1}),s(i(r),{onClick:t[2]||(t[2]=d=>i(y)(i(n)))},{default:a(()=>t[7]||(t[7]=[o("Захват экрана")])),_:1}),g("video",{ref_key:"video",ref:n,width:"320",height:"240",class:"media-capture__video"},null,512)]))}});export{I as default};
